\subsection{Przebiegi sygna³ów}
\subsection{Bank filtrów akceptacyjnych}
Po otrzymaniu wiadomoœci na magistrali CAN, gdy ta przejdzie przez filtr akceptacyjny, wraz z wiadomoœci¹ przechowywana jest informacja o filtrze, który wiadomoœæ dopuœci³ do systemu. Informacja ta zapisana jest w zmiennej FMI (Filter Match Index). Numer filtra nie pokrywa siê jednak z wartoœci¹ przechowywan¹ w FMI. Podczas inicjalizacji filtrów, przed uruchomienie kontrolera CAN, nadaje siê ka¿demu filtrowi unikalny numer i przypisuje siê go do konkretnej skrzynki odbiorczej FIFO (0 lub 1). W \hyperref[tab:FMI]{Tabeli~\ref*{tab:FMI}} przedstawiono odczytane wartoœci FMI wraz z wczeœniej nadanymi numerami filtrów.



\begin{table}[h]
\caption{Numer filtru, a wartoœæ FMI}\label{tab:FMI}
\begin{center}
\begin{tabular}{|c|c|c|}
  \hline 
  \cellcolor{gray!50} Numer filtru & \cellcolor{gray!50} Numer FIFO & \cellcolor{gray!50} zwrócone FMI\\
  \hline
   0 & 0 & 0\\
  \hline
   1 & 0 & 1\\
  \hline
   2 & 0 & 2\\
  \hline
   3 & 0 & 3\\
  \hline
   4 & 0 & 4\\
  \hline
   5 & 0 & 5\\
  \hline
   6 & 0 & 6\\
  \hline \hline
   7 & 1 & 0\\
  \hline 
   8 & 1 & 1\\
  \hline
   9 & 1 & 2\\
  \hline
   10 & 1 & 3\\
  \hline
   11 & 1 & 4\\
  \hline
   12 & 1 & 5\\
  \hline
   13 & 1 & 6\\
  \hline
\end{tabular} 
\end{center}
\end{table}



Widaæ, ¿e numer FMI zale¿y od kolejnoœci przyporz¹dkowania filtru do konkretnego FIFO, a nie od numeru nadanego podczas inicjalizacji. Najprostszym sposobem na ominiêcie problemu z³ej numeracji, jest przypisanie wszystkich filtrów do jednego FIFO (bez pomijania ¿adnego filtru). Wtedy wartoœæ FMI pokryje siê z numerem filtru, czyli w przypadku opisywanego projektu, z numerem wêz³a, który nades³a³ wiadomoœæ.
